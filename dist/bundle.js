!function(t){var i={};function e(s){if(i[s])return i[s].exports;var h=i[s]={i:s,l:!1,exports:{}};return t[s].call(h.exports,h,h.exports,e),h.l=!0,h.exports}e.m=t,e.c=i,e.d=function(t,i,s){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:s})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(e.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var h in t)e.d(s,h,function(i){return t[i]}.bind(null,h));return s},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=2)}([function(t,i,e){t.exports=e.p+"1ed8d49cf59d437106b662ecc2934ef3.png"},function(t,i,e){t.exports=e.p+"d3046c6564f9a46ae79b334bb8a5c4a0.png"},function(t,i,e){"use strict";e.r(i);var s=e(0),h=e.n(s),n=e(1),o=e.n(n);var r=0,a=new Image;a.src=h.a;var l=new Image;l.src=o.a;var c={LEFT:37,RIGHT:39,UP:38,DOWN:40,_keys:{},listenForEvents:function(t){window.addEventListener("keydown",this._onKeyDown.bind(this)),window.addEventListener("keyup",this._onKeyUp.bind(this)),t.forEach(function(t){this._keys[t]=!1}.bind(this))},_onKeyDown:function(t){var i=t.keyCode;i in this._keys&&(t.preventDefault(),this._keys[i]=!0)},_onKeyUp:function(t){var i=t.keyCode;i in this._keys&&(t.preventDefault(),this._keys[i]=!1)},isDown:function(t){if(!t in this._keys)throw new Error("Keycode "+t+" is not being listened to");return this._keys[t]}},u={run:function(t){this.ctx=t,this._previousElapsed=0,this.init(),window.requestAnimationFrame(this.tick)}};u.tick=function(t){window.requestAnimationFrame(this.tick),this.ctx.clearRect(0,0,560,450);var i=(t-this._previousElapsed)/1e3;i=Math.min(i,.25),this._previousElapsed=t,this.update(i),this.render()}.bind(u);var f={cols:50,rows:32,tsize:32,layers:[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,3,3,2,2,1,3,3,2,3,3,2,3,3,3,2,3,3,3,3,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,3,2,1,5,5,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,2,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,2,2,2,2,2,2,2,2,2,2,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,2,1,4,4,4,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,5,1,4,4,4,5,5,3,3,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,1,4,5,5,5,5,3,3,5,5,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,1,4,4,4,5,5,3,3,5,5,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,2,1,5,5,4,1,3,3,2,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,5,1,4,4,4,1,3,3,3,1,1,4,2,2,2,2,2,4,4,4,4,2,2,2,2,2,2,2,3,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,1,4,5,5,1,2,3,3,1,1,4,1,1,1,1,1,5,4,4,4,1,1,1,1,1,1,1,3,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,1,4,4,4,1,3,3,3,1,1,4,4,4,4,4,1,1,1,1,1,1,4,4,3,1,3,3,3,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,2,1,5,5,4,1,3,3,2,1,1,1,5,5,4,4,4,5,5,5,4,4,4,1,3,1,3,3,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,1,4,4,4,1,3,3,3,3,3,3,3,1,1,1,4,4,4,4,4,4,5,1,3,1,3,3,3,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,4,4,4,5,1,2,3,3,3,3,3,3,3,3,3,1,3,3,3,1,1,1,3,3,1,3,3,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,1,1,1,1,1,1,1,1,1,1,1,1,3,3,3,3,3,3,3,3,3,3,3,2,1,3,3,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,3,3,3,3,3,2,2,1,3,3,3,3,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,2,2,3,3,3,3,3,3,3,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,2,2,3,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,3,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,2,2,2,1,1,3,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,3,1,1,1,1,2,2,2,2,2,2,2,2,2,3,3,3,3,3,2,2,2,1,1,5,5,1,3,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,3,3,3,1,5,5,1,1,1,1,5,5,5,1,1,1,3,3,3,3,3,1,1,5,5,5,5,5,1,3,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],getTile:function(t,i,e){return this.layers[t][e*f.cols+i]},isSolidTileAtXY:function(t,i){var e=Math.floor(t/this.tsize),s=Math.floor(i/this.tsize);return this.layers.reduce(function(t,i,h){var n=this.getTile(h,e,s);return t||(1===n||2===n||5===n)}.bind(this),!1)},getCol:function(t){return Math.floor(t/this.tsize)},getRow:function(t){return Math.floor(t/this.tsize)},getX:function(t){return t*this.tsize},getY:function(t){return t*this.tsize}};function d(t,i,e){this.x=0,this.y=0,this.width=i,this.height=e,this.maxX=t.cols*t.tsize-i,this.maxY=t.rows*t.tsize-e}function y(t,i,e){this.map=t,this.x=i,this.y=e,this.width=12,this.height=12,this.image=l,this.xVel=0,this.yVel=0}d.prototype.follow=function(t){this.following=t,t.screenX=0,t.screenY=0},d.prototype.update=function(){this.following.screenX=this.width/2,this.following.screenY=this.height/2,this.x=this.following.x-this.width/2,this.y=this.following.y-this.height/2,this.x=Math.max(0,Math.min(this.x,this.maxX)),this.y=Math.max(0,Math.min(this.y,this.maxY)),(this.following.x<this.width/2||this.following.x>this.maxX+this.width/2)&&(this.following.screenX=this.following.x-this.x),(this.following.y<this.height/2||this.following.y>this.maxY+this.height/2)&&(this.following.screenY=this.following.y-this.y)},y.SPEED=15,y.prototype.move=function(t,i,e){this.xVel+=i,this.yVel+=e,this.xVel=Math.max(-10,Math.min(10,this.xVel)),this.yVel=Math.max(-10,Math.min(10,this.yVel)),this.x+=this.xVel*y.SPEED*t,this.y+=this.yVel*y.SPEED*t,this._collide(this.xVel,this.yVel,t)},y.prototype._collide=function(t,i,e){var s=this.x,h=this.x+this.width,n=this.y-5,o=this.y+this.height-5,r=this.map.isSolidTileAtXY(s,n),a=this.map.isSolidTileAtXY(h,n),l=this.map.isSolidTileAtXY(h,o),c=this.map.isSolidTileAtXY(s,o);(r||a||l||c)&&((r&&a&&this.yVel<0||c&&l&&this.yVel>0)&&(this.y-=this.yVel*y.SPEED*e,this.yVel*=-.2),(r&&c&&this.xVel<0||a&&l&&this.xVel>0)&&(this.x-=this.xVel*y.SPEED*e,this.xVel*=-.2))},u.load=function(){},u.init=function(){c.listenForEvents([c.LEFT,c.RIGHT,c.UP,c.DOWN]),this.tileAtlas=a,this.hero=new y(f,400,400),this.camera=new d(f,300,250),this.camera.follow(this.hero)},u.update=function(t){var i=0,e=0;c.isDown(c.LEFT)&&(i-=1),c.isDown(c.RIGHT)&&(i+=1),c.isDown(c.UP)&&(e-=1),c.isDown(c.DOWN)&&(e+=1),this.hero.move(t,i,e),this.camera.update()},u._drawLayer=function(t){for(var i=Math.floor(this.camera.x/f.tsize),e=i+this.camera.width/f.tsize+1,s=Math.floor(this.camera.y/f.tsize),h=s+this.camera.height/f.tsize+1,n=-this.camera.x+i*f.tsize,o=-this.camera.y+s*f.tsize,r=i;r<=e;r++)for(var a=s;a<=h;a++){var l=f.getTile(t,r,a),c=(r-i)*f.tsize+n,u=(a-s)*f.tsize+o;0!==l&&this.ctx.drawImage(this.tileAtlas,(l-1)*f.tsize+1,0,f.tsize,f.tsize,Math.round(c),Math.round(u),40,f.tsize)}},u.render=function(){this._drawLayer(0);var t=document.getElementById("screenBuffer").getContext("2d"),i=0;i=this.hero.xVel>3&&this.hero.yVel>3?7:this.hero.xVel<-3&&this.hero.yVel>3?6:this.hero.xVel<-3&&this.hero.yVel<-3?5:this.hero.xVel>3&&this.hero.yVel<-3?4:this.hero.xVel<0&&Math.abs(this.hero.xVel)>Math.abs(this.hero.yVel)?3:this.hero.yVel>0&&Math.abs(this.hero.yVel)>Math.abs(this.hero.xVel)?2:this.hero.xVel>0&&Math.abs(this.hero.xVel)>Math.abs(this.hero.yVel)?1:0,t.drawImage(this.hero.image,12*r,12*i,12,12,148.5,119,12,12)},window.onload=function(){var t=document.getElementById("screenBuffer").getContext("2d");t.scale(2,2),u.run(t),setInterval(function(){r=(r+1)%2},200)}}]);